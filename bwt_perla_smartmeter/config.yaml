name: "BWT Perla Smartmeter (VNC OCR MQTT)"
slug: "bwt_perla_smartmeter"
description: "Liest BWT Perla Werte via VNC+OCR und ver√∂ffentlicht sie per MQTT (Discovery)."
version: "0.2.0"
url: "https://github.com/ThoSchGer/HA_Addon_BWT_PerlaHome"

arch:
  - aarch64
  - armv7
  - amd64

startup: services
boot: auto
init: false

options:
  bwt_ipaddress: "192.168.178.50"
  bwt_password: ""
  mqtt_address: "homeassistant.local"
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_password: ""
  mqtt_topic_throughput: "home/wasser/durchfluss"
  mqtt_topic_volume: "home/wasser/volumen"
  mqtt_topic_status: "home/wasser/status"
  interval_seconds: 10
  vnc_timeout_seconds: 60
  vnc_connect_delay: 2
  throughput_region: "60,70,80,25"
  throughput_pattern: "(.*)|*./h"
  volume_region: "70,150,60,24"
  volume_pattern: "(.*)|*."
  tesseract_config: '-c page_separator=""'
  discovery_prefix: "homeassistant"
  discovery_node_id: "bwt_perla"
  debug_screenshots: true

schema:
  bwt_ipaddress: str
  bwt_password: password
  mqtt_address: str
  mqtt_port: port
  mqtt_user: str
  mqtt_password: password
  mqtt_topic_throughput: str
  mqtt_topic_volume: str
  mqtt_topic_status: str
  interval_seconds: int(1,)
  vnc_timeout_seconds: int(5,)
  vnc_connect_delay: int(1,)
  throughput_region: str
  throughput_pattern: str
  volume_region: str
  volume_pattern: str
  tesseract_config: str
  discovery_prefix: str
  discovery_node_id: str
  debug_screenshots: bool

map:
  - data:rw
